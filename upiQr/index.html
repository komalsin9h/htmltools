<!DOCTYPE html>
<html>
<head>
    <title>UPI Pay URI Generator</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrious/4.0.2/qrious.min.js"></script>
    <style>
        #canvas {
            max-width: 300px;
        }
        .form-container {
            max-width: 500px;
            margin: 0 auto;
            padding: 20px;
            border: 1px solid #ccc;
            border-radius: 5px;
        }
        .form-container input[type="submit"] {
            margin-top: 10px;
        }
    </style>
</head>
<body>
<!--
    <div class="form-container">
        <h1>UPI Pay URI Generator</h1>
        <form onsubmit="generateQRCode(); return false;">
            <label for="pa">Payee Address (VPA)*:</label>
            <input type="text" id="pa" name="pa" required>
            <label for="pn">Payee Name:</label>
            <input type="text" id="pn" name="pn">
            <label for="am">Transaction Amount:</label>
            <input type="text" id="am" name="am">
            <label for="cu">Currency Code:</label>
            <input type="text" id="cu" name="cu">
            <label for="tn">Transaction Note:</label>
            <input type="text" id="tn" name="tn">
            <input type="submit" value="Generate QR Code">
        </form>
        <canvas id="canvas"></canvas>
        <a class="button" id="downloadLink" href="#" download>Download QR Code</a>
    </div>
-->


<style>
.form-container label {
  display: block;
  margin-bottom: 10px;
  font-weight: bold;
}
.form-container input[type="text"] {
  width: 100%;
  padding: 10px;
  border: 1px solid #ccc;
  border-radius: 5px;
  margin-bottom: 20px;
  font-size: 16px;
}
.form-container input[type="submit"] {
  background-color: #007bff;
  color: #fff;
  padding: 10px 20px;
  border: none;
  border-radius: 5px;
  cursor: pointer;
  font-size: 16px;
}
.form-container input[type="submit"]:hover {
  background-color: #0069d9;
}
.button {
  display: inline-block;
  margin-top: 20px;
  background-color: #007bff;
  color: #fff;
  padding: 10px 20px;
  border: none;
  border-radius: 5px;
  cursor: pointer;
  font-size: 16px;
  text-decoration: none;
}
.button:hover {
  background-color: #0069d9;
}
</style>

<div class="form-container">
  <h1>UPI Pay URI Generator</h1>
  <form onsubmit="generateQRCode(); return false;">
    <label for="pa">Payee Address (VPA)*:</label>
    <input type="text" id="pa" name="pa" required pattern="[a-zA-Z0-9_.]+@[a-zA-Z0-9_.]+" title="Enter valid VPA with only alphanumeric characters, @ symbol and dot(.)">
    <small>e.g. username@bankname or username@upi</small>
    <br><br>
    <label for="pn">Payee Name:</label>
    <input type="text" id="pn" name="pn">
    <small>e.g. John Doe</small>
    <br><br>
    <label for="am">Transaction Amount:</label>
    <input type="text" id="am" name="am" pattern="[0-9]*\.?[0-9]*" title="Enter valid amount with only digits and dot(.)">
    <small>e.g. 500.50</small>
    <br><br>
    <label for="cu">Currency Code:</label>
    <input type="text" id="cu" name="cu" value="INR">
    <small>Default currency code is INR</small>
    <br><br>
    <label for="tn">Transaction Note:</label>
    <input type="text" id="tn" name="tn">
    <small>e.g. Payment for dinner</small>
    <br><br>
    <input type="submit" value="Generate QR Code">
  </form>
  <canvas id="canvas"></canvas>
  <a class="button" id="downloadLink" href="#" download>Download QR Code</a>
</div>






    <script>
        function generateQRCode() {
            var pa = document.getElementById("pa").value;
            var pn = document.getElementById("pn").value;
            var am = document.getElementById("am").value;
            var cu = document.getElementById("cu").value;
            var tn = document.getElementById("tn").value;

            var payURI = "upi://pay?pa=" + encodeURIComponent(pa);
            if (pn) {
                payURI += "&pn=" + encodeURIComponent(pn);
            }
            if (am) {
                payURI += "&am=" + encodeURIComponent(am);
            }
            if (cu) {
                payURI += "&cu=" + encodeURIComponent(cu);
            }
            if (tn) {
                payURI += "&tn=" + encodeURIComponent(tn);
            }

            var qr = new QRious({
                element: document.getElementById("canvas"),
                value: payURI,
                size: 300
            });

            var downloadLink = document.getElementById("downloadLink");
            downloadLink.href = document.getElementById("canvas").toDataURL("image/png");
            downloadLink.download = "upi_pay_qr.png";
        }
    </script>
</body>
</html>
